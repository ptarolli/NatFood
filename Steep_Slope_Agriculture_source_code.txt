Steep-slope agriculture Google Earth Engine open-source code 
(developed by authors for determining the spatial distribution of global steep-slope agricultural landscapes)
Wang, W., Pijl, A., & Tarolli, P. (2022). Future climate-zone shifts are threatening steep-slope agriculture. Nature Food, https://doi.org/10.1038/s43016-021-00454-y.
//// GOOGLE EARTH ENGINE CODE FOR EXTRACTION GLOBAL STEEP-SLOPE AGRICULTURE ////// STEP 1. PREPARING LAND COVER DATA //// a. import 2019 CGLS-LC100 land cover with 100-m resolutionvar cgls_global = ee.Image("COPERNICUS/Landcover/100m/Proba-V-C3/Global/2019");var lc2019= cgls_global.select("discrete_classification");// b. select "agriculture" class onlyvar agr_global = lc2019.eq(40);Map.addLayer(agr_global,{'palette': ['black', 'yellow']},"agricultural land use" ) // STEP 2. PREPARING SLOPE DATA //// a. import 2010 global DEM with 7.5 arc-seconds resolution (about 250m)var dem_global = ee.Image("USGS/GMTED2010");// b. compute  slope and define slope > 7¡ as "steep-slope" (FAO Soils Bulletin 75) var slope_global = ee.Terrain.slope(dem_global);var steepslope_global = slope_global.gt(7);Map.addLayer(steepslope_global,{'palette': ['black', 'red']},"steep slopes")// STEP 3. CALCULATING GLOBAL COVERAGE OF STEEP-SLOPE AGRICULTURE //// a. multiply binary land use and slope rasters ("agriculture" and ">7¡" have value "1") var steep_agr = agr_global.multiply(steepslope_global);Map.addLayer(steep_agr, {'palette': ['black', 'green']},"steep-slope agriculture")// STEP 4. EXPORT THE RESULTS //// a. define global coverage for export var geometry = ee.Geometry.Rectangle([-179,-58,179,78], null, false);// b. export raster to Google Drive folder (files are automatically split into tiles)Export.image.toDrive({  image: steep_agr,  description: 'SS_250m_',  scale: 250,  region: geometry,  maxPixels: 1e11});13 January 2022paolo.tarolli@unipd.it